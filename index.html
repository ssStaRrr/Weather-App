<!DOCTYPE html> 
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App with HTML-CSS-JS</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer"
    >
</head>
<body>

    <div>
        <h1> Weather Forecast </h1>
        <div class="cityInputDiv">
            <input id="cityInput" class="inputText" type="text" placeholder="Enter City">
        </div>
        <div class="getTempButtonDiv">
            <button id="getTempButton" onclick="getTemperature()" class="btn">Get Weather Information</button>
        </div>
    </div>
    
    <div class="info">
        <p id="city"> <span> City </span> / <span> Country </span></p>
        <div class="generalTemp">
            <p id="generalTemp">----</p> <i class="fa-regular fa-circle"></i> <i class="fa-solid fa-c"></i>
        </div>

        <p id="temperatureText"> Temperature </p>

        <div class="feelsTemp">
            <p id="feelsTemp"> Feels Temperature </p> <i class="fa-regular fa-circle"></i> <i class="fa-solid fa-c"></i>
        </div>
    </div>

    
    <script>
        // const getTempButtonElement = document.getElementById("getTempButton")
        // getTempButtonElement.addEventListener('click', () => {
        //     console.log("tiklandi")
        // })
        
        async function getTemperature() {
            let cityValue = await document.getElementById("cityInput").value
            let temperatureValue = await document.getElementById("generalTemp")
            let cityElement = await document.getElementById("city")
            let temperatureText = await document.getElementById("temperatureText")
            let feelsTempText = await document.getElementById("feelsTemp")

            const weather = await getData(cityValue)
            console.log(weather)
            console.log(weather.weather[0].main)
            temperatureValue.innerHTML = weather.main.temp
            temperatureText.innerHTML = weather.weather[0].main
            feelsTempText.innerHTML = `Feels Temp: ${weather.main.feels_like}` 
            cityElement.children[0].innerHTML = weather.name
            cityElement.children[1].innerHTML  =weather.sys.country
        }
    </script>

    <script src="script.js"></script>
</body>
</html>